
<script type="text/javascript" charset="utf-8">
	$(function() {
	 	$('#stars').barrating({
	     	theme: 'css-stars'
	  	});
	});
</script>
<div class="holder padding-zero scrollable" ng-controller="WidgetWallCtrl as WidgetWall">
	<div class="feedback-plugin review-wall">
		<div class="intro text-center padding-top-ten padding-bottom-twenty">
			<p class="margin-top-ten margin-bottom-zero" ng-if="WidgetWall.data.reviews.length">Reviews: <span style="font-weight:400;">{{WidgetWall.data.reviews.length}}</span></p>
			<p ng-if="WidgetWall.data.reviews.length">Average Rating: <span style="font-weight:400;">{{WidgetWall.ratingsTotal.data.startRating / (WidgetWall.data.reviews.length) | number:2 }}/5</span></p>
			<div class="rating br-wrapper br-theme-css-stars" ng-if="WidgetWall.data.reviews.length">
				<ng-rate-it ng-model="WidgetWall.startPoints" class="custom"  read-only = "true"></ng-rate-it>
			</div>
			<p ng-if="WidgetWall.startPoints<=1" ng-if="WidgetWall.data.reviews.length">Poor</p>
			<p ng-if="WidgetWall.startPoints>1 && WidgetWall.startPoints<=2" ng-if="WidgetWall.data.reviews.length">Average</p>
			<p ng-if="WidgetWall.startPoints>2 && WidgetWall.startPoints<=3" ng-if="WidgetWall.data.reviews.length">Good</p>
			<p ng-if="WidgetWall.startPoints>3 && WidgetWall.startPoints<=4" ng-if="WidgetWall.data.reviews.length">Excellent</p>
			<p ng-if="WidgetWall.startPoints>4" ng-if="WidgetWall.data.reviews.length">Outstanding</p>
			<a class="btn btn-success btn-sm" ng-if="WidgetWall.data.reviews" ng-click="WidgetWall.submitReview()">Submit Review</a>
			<!--<a class="btn btn-success btn-sm" href="#/">Home</a>-->
			<!--<a href="#/chatHome" ng-if="WidgetWall.data.reviews.length">Chat</a>-->
		</div>
        <div class="infinite-scroll-parent scrollable" style="height: 500px !important; overflow-y: auto;">
        <div style="margin-bottom: 50px;" id="top"
             infinite-scroll-distance="1"
             data-infinite-container=".infinite-scroll-parent"
             infinite-scroll="WidgetWall.getReviews()"
             infinite-scroll-disabled="WidgetWall.noMore">
		<div class="review-item clearfix" ng-repeat = "data in WidgetWall.data.reviews | orderBy:'-data.addedDate'" >
			<hr class="small">
			<div class="head row clearfix padding-left-ten padding-right-ten margin-bottom-fifteen">
				<div class="col-xs-8 pull-left">
					<div class="media-holder pull-left">
                        <img ng-if="!data.data.userImage" load-image="1x1"
                             data-final-src="./assets/avatar-placeholder.png">
						<!--<img src="http://www.placehold.it/100x100" ng-if="!data.data.userImage">-->
						<img ng-if="data.data.userImage"  load-image="1x1"
                             data-final-src="{{data.data.userImage}}">
					</div>
					<div>
						<p class="text-primary ellipsis margin-bottom-zero padding-left-ten">
							<a class="text-primary">{{data.data.displayName}}</a>
						</p>
						<p class="date opacity-seventy">{{data.data.addedDate | date : 'shortDate'}}</p>
					</div>
				</div>
				<div class="col-xs-3 pull-right margin-top-ten text-right">
					<span class="stars"><span style="font-weight:400;">{{data.data.startRating}}</span> stars</span>
				</div>
			</div>
			<div class="copy padding-left-ten padding-right-ten margin-bottom-fifteen">
				<p class="margin-zero">{{data.data.Message}}</p>
			</div>
		</div>
     </div>
	</div>
    </div>
</div>